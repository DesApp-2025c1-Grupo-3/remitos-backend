{"version":3,"sources":["../../../lib/controllers/mercaderiaController.js"],"names":["includes","require","Remito","Estado","Mercaderia","controller","getMercaderia","req","res","mercaderia","findAll","include","model","as","status","json","getMercaderiaById","id","params","updateMercaderia","tipoMercaderia","valorDeclarado","volumenMetrosCubico","pesoMercaderia","cantidadBobinas","cantidadRacks","cantidadBultos","cantidadPallets","requisitosEspeciales","activo","remitosId","estadoId","body","idMercaderia","findByPk","update","createMercaderia","create","module","exports"],"mappings":"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","sourcesContent":["const { includes } = require(\"lodash\");\r\nconst { Remito, Estado, Mercaderia } = require(\"../models\");\r\nconst controller = {};\r\n\r\nconst getMercaderia = async (req, res) => {\r\n  const mercaderia = await Mercaderia.findAll({\r\n    include: { model: Estado, as: \"estado\" },\r\n  });\r\n  res.status(200).json(mercaderia);\r\n}; \r\ncontroller.getMercaderia = getMercaderia;\r\n\r\nconst getMercaderiaById = async (req, res) => {\r\n  const id = req.params.id;\r\n  const mercaderia = await Mercaderia.findAll(id, {\r\n    include: { model: Estado, as: \"estado\" },\r\n  });\r\n  res.status(200).json(mercaderia);\r\n};\r\ncontroller.getMercaderiaById = getMercaderiaById;\r\n\r\nconst updateMercaderia = async (req, res) => {\r\n  const { tipoMercaderia, valorDeclarado, volumenMetrosCubico, pesoMercaderia, cantidadBobinas, cantidadRacks, cantidadBultos, cantidadPallets, requisitosEspeciales, activo, remitosId, estadoId } = req.body;\r\n  const idMercaderia = req.params.id;\r\n  const mercaderia = await Mercaderia.findByPk(idMercaderia);\r\n  await mercaderia.update({ tipoMercaderia, valorDeclarado, volumenMetrosCubico, pesoMercaderia, cantidadBobinas, cantidadRacks, cantidadBultos, cantidadPallets, requisitosEspeciales, activo, remitosId, estadoId });\r\n  res.status(200).json(mercaderia);\r\n};\r\ncontroller.updateMercaderia = updateMercaderia;\r\n\r\nconst createMercaderia = async (req, res) => {\r\n  const { tipoMercaderia, valorDeclarado, volumenMetrosCubico, pesoMercaderia, cantidadBobinas, cantidadRacks, cantidadBultos, cantidadPallets, requisitosEspeciales, activo, remitosId, estadoId } = req.body;\r\n  const mercaderia = await Mercaderia.create(tipoMercaderia, valorDeclarado, volumenMetrosCubico, pesoMercaderia, cantidadBobinas, cantidadRacks, cantidadBultos, cantidadPallets, requisitosEspeciales, activo, remitosId, estadoId);\r\n  res.status(201).json(mercaderia);\r\n};\r\ncontroller.createMercaderia = createMercaderia;\r\n\r\nmodule.exports = controller;"],"file":"mercaderiaController.js"}