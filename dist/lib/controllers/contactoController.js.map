{"version":3,"sources":["../../../lib/controllers/contactoController.js"],"names":["where","require","Contacto","Cliente","Destino","message","controller","getContacto","req","res","contactos","findAll","include","model","as","status","json","getContactoById","id","params","contacto","findByPk","createContacto","body","nuevoContacto","create","deleteContacto","idContacto","destroy","module","exports"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,OAAZ;AAAqBC,EAAAA;AAArB,IAAiCH,OAAO,CAAC,WAAD,CAA9C;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAcJ,OAAO,CAAC,yBAAD,CAA3B;;AACA,MAAMK,UAAU,GAAG,EAAnB;;AAEA,MAAMC,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,OAAT,CAAiB;AACvCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAEV,OADA;AAEPW,MAAAA,EAAE,EAAE;AAFG;AAD8B,GAAjB,CAAxB;AAMAL,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,SAArB;AACD,CARD;;AASAJ,UAAU,CAACC,WAAX,GAAyBA,WAAzB;;AAEA,MAAMU,eAAe,GAAG,OAAOT,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAMS,EAAE,GAAGV,GAAG,CAACW,MAAJ,CAAWD,EAAtB;AACA,QAAME,QAAQ,GAAG,MAAMlB,QAAQ,CAACmB,QAAT,CAAkBH,EAAlB,EAAsB;AAC3CN,IAAAA,OAAO,EAAE,CAAC;AACRC,MAAAA,KAAK,EAAEV,OADC;AAERW,MAAAA,EAAE,EAAE;AAFI,KAAD,EAGP;AACFD,MAAAA,KAAK,EAAET,OADL;AAEFU,MAAAA,EAAE,EAAE;AAFF,KAHO;AADkC,GAAtB,CAAvB;AAQFL,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,QAArB;AACC,CAXD;;AAYAd,UAAU,CAACW,eAAX,GAA6BA,eAA7B;;AAEA,MAAMK,cAAc,GAAG,OAAOd,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMW,QAAQ,GAAGZ,GAAG,CAACe,IAArB;AACA,QAAMC,aAAa,GAAG,MAAMtB,QAAQ,CAACuB,MAAT,CAAgBL,QAAhB,CAA5B;AACAX,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBQ,aAArB;AACD,CAJD;;AAKAlB,UAAU,CAACgB,cAAX,GAA4BA,cAA5B;;AAEA,MAAMI,cAAc,GAAG,OAAOlB,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMkB,UAAU,GAAGnB,GAAG,CAACW,MAAJ,CAAWD,EAA9B;AACA,QAAME,QAAQ,GAAG,MAAMlB,QAAQ,CAAC0B,OAAT,CAAiB;AAAE5B,IAAAA,KAAK,EAAE;AAAEkB,MAAAA,EAAE,EAAES;AAAN;AAAT,GAAjB,CAAvB;AACAlB,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEX,IAAAA,OAAO,EAAE;AAAX,GAArB;AACD,CAJD;;AAMAC,UAAU,CAACoB,cAAX,GAA4BA,cAA5B;AAEAG,MAAM,CAACC,OAAP,GAAiBxB,UAAjB","sourcesContent":["const { where } = require(\"sequelize\");\nconst { Contacto, Cliente, Destino } = require(\"../models\");\nconst { message } = require(\"../schemas/estadoSchema\");\nconst controller = {};\n\nconst getContacto = async (req, res) => {\n  const contactos = await Contacto.findAll({\n    include: {\n      model: Cliente,\n      as: \"cliente\",\n    }\n  });\n  res.status(200).json(contactos);\n};\ncontroller.getContacto = getContacto;\n\nconst getContactoById = async (req, res) => {\n  const id = req.params.id;\n  const contacto = await Contacto.findByPk(id, {\n    include: [{\n      model: Cliente,\n      as: \"cliente\",\n    },{\n    model: Destino,\n    as: \"destino\"\n  }]});\nres.status(200).json(contacto);\n};\ncontroller.getContactoById = getContactoById;\n\nconst createContacto = async (req, res) => {\n  const contacto = req.body;\n  const nuevoContacto = await Contacto.create(contacto);\n  res.status(201).json(nuevoContacto);\n};\ncontroller.createContacto = createContacto;\n\nconst deleteContacto = async (req, res) => {\n  const idContacto = req.params.id;\n  const contacto = await Contacto.destroy({ where: { id: idContacto } });\n  res.status(200).json({ message: \"Contacto eliminado correctamente\" });\n};\n\ncontroller.deleteContacto = deleteContacto;\n\nmodule.exports = controller;\n"],"file":"contactoController.js"}