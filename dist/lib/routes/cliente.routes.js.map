{"version":3,"sources":["../../../lib/routes/cliente.routes.js"],"names":["express","require","route","Router","Cliente","Contacto","clienteController","schemaValidator","clienteSchema","clienteMiddleware","contactoSchema","get","getCliente","validateId","getClienteById","post","createCliente","createClienteWithContacto","addContactoToCliente","put","updateCliente","activateCliente","delete","deleteCliente","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,KAAK,GAAGF,OAAO,CAACG,MAAR,EAAd;;AACA,MAAM;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,IAAwBJ,OAAO,CAAC,WAAD,CAArC;;AACA,MAAMK,iBAAiB,GAAGL,OAAO,CAAC,kCAAD,CAAjC;;AACA,MAAMM,eAAe,GAAGN,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMO,aAAa,GAAGP,OAAO,CAAC,0BAAD,CAA7B;;AACA,MAAMQ,iBAAiB,GAAGR,OAAO,CAAC,mCAAD,CAAjC;;AACA,MAAMS,cAAc,GAAGT,OAAO,CAAC,2BAAD,CAA9B,C,CAEA;;;AACAC,KAAK,CAACS,GAAN,CAAU,UAAV,EAAsBL,iBAAiB,CAACM,UAAxC,E,CAEA;;AACAV,KAAK,CAACS,GAAN,CACE,cADF,EAEEF,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEE,iBAAiB,CAACQ,cAHpB,E,CAMA;;AACAZ,KAAK,CAACa,IAAN,CACE,UADF,EAEER,eAAe,CAACC,aAAD,CAFjB,EAGEF,iBAAiB,CAACU,aAHpB,E,CAMA;;AACAd,KAAK,CAACa,IAAN,CACE,kBADF,EAEER,eAAe,CAACC,aAAD,CAFjB,EAGEF,iBAAiB,CAACW,yBAHpB,E,CAMA;;AACAf,KAAK,CAACa,IAAN,CACE,8BADF,EAEEN,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEG,eAAe,CAACG,cAAD,CAHjB,EAIEJ,iBAAiB,CAACY,oBAJpB,E,CAOA;;AACAhB,KAAK,CAACiB,GAAN,CACE,cADF,EAEEZ,eAAe,CAACC,aAAD,CAFjB,EAGEF,iBAAiB,CAACc,aAHpB,E,CAMA;;AACAlB,KAAK,CAACiB,GAAN,CACE,sBADF,EAEEV,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEE,iBAAiB,CAACe,eAHpB,E,CAMA;;AACAnB,KAAK,CAACoB,MAAN,CACE,cADF,EAEEb,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEE,iBAAiB,CAACiB,aAHpB;AAMAC,MAAM,CAACC,OAAP,GAAiBvB,KAAjB","sourcesContent":["const express = require(\"express\");\r\nconst route = express.Router();\r\nconst { Cliente, Contacto } = require(\"../models\");\r\nconst clienteController = require(\"../controllers/clienteController\");\r\nconst schemaValidator = require(\"../middlewares/schemaValidator\");\r\nconst clienteSchema = require(\"../schemas/clienteSchema\");\r\nconst clienteMiddleware = require(\"../middlewares/validateMiddleware\");\r\nconst contactoSchema = require(\"../schemas/contactoSchema\");\r\n\r\n//Trae todos los clientes\r\nroute.get(\"/cliente\", clienteController.getCliente);\r\n\r\n//Trae todos los clientes por ID\r\nroute.get(\r\n  \"/cliente/:id\",\r\n  clienteMiddleware.validateId(Cliente),\r\n  clienteController.getClienteById\r\n);\r\n\r\n//Crea un cliente -solo cliente-\r\nroute.post(\r\n  \"/cliente\",\r\n  schemaValidator(clienteSchema),\r\n  clienteController.createCliente\r\n);\r\n\r\n//Crea un cliente y un contacto asociando ambos\r\nroute.post(\r\n  \"/clienteContacto\",\r\n  schemaValidator(clienteSchema),\r\n  clienteController.createClienteWithContacto\r\n);\r\n\r\n//Agrega otro contacto a un cliente\r\nroute.post(\r\n  \"/agregarContactoACliente/:id\",\r\n  clienteMiddleware.validateId(Cliente),\r\n  schemaValidator(contactoSchema),\r\n  clienteController.addContactoToCliente\r\n)\r\n\r\n//Edita un cliente\r\nroute.put(\r\n  \"/cliente/:id\",\r\n  schemaValidator(clienteSchema),\r\n  clienteController.updateCliente\r\n);\r\n\r\n//Da de alta un cliente borrado\r\nroute.put(\r\n  \"/cliente/:id/darAlta\",\r\n  clienteMiddleware.validateId(Cliente),\r\n  clienteController.activateCliente\r\n);\r\n\r\n//Borra un cliente\r\nroute.delete(\r\n  \"/cliente/:id\",\r\n  clienteMiddleware.validateId(Cliente),\r\n  clienteController.deleteCliente\r\n);\r\n\r\nmodule.exports = route;\r\n"],"file":"cliente.routes.js"}