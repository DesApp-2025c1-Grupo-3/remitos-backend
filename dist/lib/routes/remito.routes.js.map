{"version":3,"sources":["../../../lib/routes/remito.routes.js"],"names":["express","require","route","Router","remitoController","schemaValidator","remitoMiddleware","remitoSchema","upload","get","getRemitos","validateRemitoId","getRemitoById","post","single","validateNumeroAsignadoUnico","createRemito","createRemitoWithClienteAndDestino","put","validateNumeroAsignadoUnicoUpdate","updateRemito","updateEstadoRemito","delete","deleteRemito","getVolumenPorClientePeriodo","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,KAAK,GAAGF,OAAO,CAACG,MAAR,EAAd;;AACA,MAAMC,gBAAgB,GAAGH,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMI,eAAe,GAAGJ,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMK,gBAAgB,GAAGL,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMM,YAAY,GAAGN,OAAO,CAAC,yBAAD,CAA5B;;AACA,MAAMO,MAAM,GAAGP,OAAO,CAAC,uBAAD,CAAtB,C,CAEA;;;AACAC,KAAK,CAACO,GAAN,CAAU,SAAV,EAAqBL,gBAAgB,CAACM,UAAtC,E,CACA;;AACAR,KAAK,CAACO,GAAN,CACE,aADF,EAEEH,gBAAgB,CAACK,gBAFnB,EAGEP,gBAAgB,CAACQ,aAHnB,E,CAKA;;AACAV,KAAK,CAACW,IAAN,CACE,SADF,EAEEL,MAAM,CAACM,MAAP,CAAc,gBAAd,CAFF,EAGET,eAAe,CAACE,YAAD,CAHjB,EAIED,gBAAgB,CAACS,2BAJnB,EAKEX,gBAAgB,CAACY,YALnB,E,CAOA;;AACAd,KAAK,CAACW,IAAN,CACE,cADF,EAEEL,MAAM,CAACM,MAAP,CAAc,gBAAd,CAFF,EAGE;AACAR,gBAAgB,CAACS,2BAJnB,EAKEX,gBAAgB,CAACa,iCALnB,E,CAOA;;AACAf,KAAK,CAACgB,GAAN,CACE,aADF,EAEEZ,gBAAgB,CAACK,gBAFnB,EAGEL,gBAAgB,CAACa,iCAHnB,EAIEf,gBAAgB,CAACgB,YAJnB,E,CAMA;;AACAlB,KAAK,CAACgB,GAAN,CAAU,yBAAV,EAAqCd,gBAAgB,CAACiB,kBAAtD,E,CAEA;;AACAnB,KAAK,CAACoB,MAAN,CACE,aADF,EAEEhB,gBAAgB,CAACK,gBAFnB,EAGEP,gBAAgB,CAACmB,YAHnB;AAMArB,KAAK,CAACO,GAAN,CACE,uCADF,EAEEL,gBAAgB,CAACoB,2BAFnB;AAKAC,MAAM,CAACC,OAAP,GAAiBxB,KAAjB","sourcesContent":["const express = require(\"express\");\nconst route = express.Router();\nconst remitoController = require(\"../controllers/remitoController\");\nconst schemaValidator = require(\"../middlewares/schemaValidator\");\nconst remitoMiddleware = require(\"../middlewares/remitoMiddleware\");\nconst remitoSchema = require(\"../schemas/remitoSchema\");\nconst upload = require(\"../middlewares/upload\");\n\n//Trae todos los remitos\nroute.get(\"/remito\", remitoController.getRemitos);\n//Trae remito por id\nroute.get(\n  \"/remito/:id\",\n  remitoMiddleware.validateRemitoId,\n  remitoController.getRemitoById\n);\n//CREA SOLO EL MODELO REMITO CON SUS ATRIBUTOS\nroute.post(\n  \"/remito\",\n  upload.single(\"archivoAdjunto\"),\n  schemaValidator(remitoSchema),\n  remitoMiddleware.validateNumeroAsignadoUnico,\n  remitoController.createRemito\n);\n//CREA EL REMITO CON DESTINO Y SU CONTACTO Y CLIENTE Y SU CONTACTO\nroute.post(\n  \"/remitoFinal\",\n  upload.single(\"archivoAdjunto\"),\n  //schemaValidator(remitoSchema),\n  remitoMiddleware.validateNumeroAsignadoUnico,\n  remitoController.createRemitoWithClienteAndDestino\n);\n//Edita remito\nroute.put(\n  \"/remito/:id\", \n  remitoMiddleware.validateRemitoId,\n  remitoMiddleware.validateNumeroAsignadoUnicoUpdate,\n  remitoController.updateRemito\n);\n//Edita estado de un remito\nroute.put(\"/remito/:id/estado/:eid\", remitoController.updateEstadoRemito);\n\n//Borra remito\nroute.delete(\n  \"/remito/:id\",\n  remitoMiddleware.validateRemitoId,\n  remitoController.deleteRemito\n);\n\nroute.get(\n  \"/reportes/volumen-por-cliente-periodo\",\n  remitoController.getVolumenPorClientePeriodo\n);\n\nmodule.exports = route;\n"],"file":"remito.routes.js"}