{"version":3,"sources":["../../../lib/routes/remito.routes.js"],"names":["express","require","route","Router","Remito","remitoController","schemaValidator","remitoMiddleware","remitoSchema","upload","get","getRemitos","validateId","getRemitoById","post","single","createRemito","createRemitoWithClienteAndDestino","put","updateRemito","updateEstadoRemito","activateRemito","delete","deleteRemito","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,KAAK,GAAGF,OAAO,CAACG,MAAR,EAAd;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaH,OAAO,CAAC,WAAD,CAA1B;;AACA,MAAMI,gBAAgB,GAAGJ,OAAO,CAAC,iCAAD,CAAhC;;AACA,MAAMK,eAAe,GAAGL,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMM,gBAAgB,GAAGN,OAAO,CAAC,mCAAD,CAAhC;;AACA,MAAMO,YAAY,GAAGP,OAAO,CAAC,yBAAD,CAA5B;;AACA,MAAMQ,MAAM,GAAGR,OAAO,CAAC,uBAAD,CAAtB,C,CAEA;;;AACAC,KAAK,CAACQ,GAAN,CAAU,SAAV,EAAqBL,gBAAgB,CAACM,UAAtC,E,CAEA;;AACAT,KAAK,CAACQ,GAAN,CACE,aADF,EAEEH,gBAAgB,CAACK,UAAjB,CAA4BR,MAA5B,CAFF,EAGEC,gBAAgB,CAACQ,aAHnB,E,CAMA;;AACAX,KAAK,CAACY,IAAN,CACE,SADF,EAEEL,MAAM,CAACM,MAAP,CAAc,gBAAd,CAFF,EAGET,eAAe,CAACE,YAAD,CAHjB,EAIEH,gBAAgB,CAACW,YAJnB,E,CAOA;;AACAd,KAAK,CAACY,IAAN,CACE,cADF,EAEEL,MAAM,CAACM,MAAP,CAAc,gBAAd,CAFF,EAGET,eAAe,CAACE,YAAD,CAHjB,EAIEH,gBAAgB,CAACY,iCAJnB,E,CAOA;;AACAf,KAAK,CAACgB,GAAN,CACE,aADF,EAEEZ,eAAe,CAACE,YAAD,CAFjB,EAGEH,gBAAgB,CAACc,YAHnB,E,CAMA;;AACAjB,KAAK,CAACgB,GAAN,CACE,yBADF,EAEEX,gBAAgB,CAACK,UAAjB,CAA4BR,MAA5B,CAFF,EAGEC,gBAAgB,CAACe,kBAHnB,E,CAMA;;AACAlB,KAAK,CAACgB,GAAN,CACE,qBADF,EAEEX,gBAAgB,CAACK,UAAjB,CAA4BR,MAA5B,CAFF,EAGEC,gBAAgB,CAACgB,cAHnB,E,CAMA;;AACAnB,KAAK,CAACoB,MAAN,CACE,aADF,EAEEf,gBAAgB,CAACK,UAAjB,CAA4BR,MAA5B,CAFF,EAGEC,gBAAgB,CAACkB,YAHnB;AAMAC,MAAM,CAACC,OAAP,GAAiBvB,KAAjB","sourcesContent":["const express = require(\"express\");\r\nconst route = express.Router();\r\nconst { Remito } = require(\"../models\");\r\nconst remitoController = require(\"../controllers/remitoController\");\r\nconst schemaValidator = require(\"../middlewares/schemaValidator\");\r\nconst remitoMiddleware = require(\"../middlewares/validateMiddleware\");\r\nconst remitoSchema = require(\"../schemas/remitoSchema\");\r\nconst upload = require(\"../middlewares/upload\");\r\n\r\n//Trae todos los remitos\r\nroute.get(\"/remito\", remitoController.getRemitos);\r\n\r\n//Trae remito por id\r\nroute.get(\r\n  \"/remito/:id\",\r\n  remitoMiddleware.validateId(Remito),\r\n  remitoController.getRemitoById\r\n);\r\n\r\n//CREA SOLO EL MODELO REMITO CON SUS ATRIBUTOS\r\nroute.post(\r\n  \"/remito\",\r\n  upload.single(\"archivoAdjunto\"),\r\n  schemaValidator(remitoSchema),\r\n  remitoController.createRemito\r\n);\r\n\r\n//CREA EL REMITO CON DESTINO, CLIENTE Y MERCADERIA\r\nroute.post(\r\n  \"/remitoFinal\",\r\n  upload.single(\"archivoAdjunto\"),\r\n  schemaValidator(remitoSchema),\r\n  remitoController.createRemitoWithClienteAndDestino\r\n);\r\n\r\n//Edita remito\r\nroute.put(\r\n  \"/remito/:id\",\r\n  schemaValidator(remitoSchema),\r\n  remitoController.updateRemito\r\n);\r\n\r\n//Edita estado de un remito\r\nroute.put(\r\n  \"/remito/:id/estado/:eid\",\r\n  remitoMiddleware.validateId(Remito),\r\n  remitoController.updateEstadoRemito\r\n);\r\n\r\n//Da de alta un remito eliminado\r\nroute.put(\r\n  \"/remito/:id/darAlta\",\r\n  remitoMiddleware.validateId(Remito),\r\n  remitoController.activateRemito\r\n);\r\n\r\n//Borra remito\r\nroute.delete(\r\n  \"/remito/:id\",\r\n  remitoMiddleware.validateId(Remito),\r\n  remitoController.deleteRemito\r\n);\r\n\r\nmodule.exports = route;\r\n"],"file":"remito.routes.js"}