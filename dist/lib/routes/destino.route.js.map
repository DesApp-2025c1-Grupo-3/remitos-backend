{"version":3,"sources":["../../../lib/routes/destino.route.js"],"names":["express","require","route","Router","Destino","destinoController","schemaValidator","destinoSchema","destinoContactoSchema","destinoMiddleware","contactoSchema","get","getDestino","validateId","getDestinoById","getDestinoFiltrado","post","createDestino","createDestinoWithContacto","addContactoToDestino","put","updateDestino","activateDestino","delete","deleteDestino","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,KAAK,GAAGF,OAAO,CAACG,MAAR,EAAd;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAcH,OAAO,CAAC,WAAD,CAA3B;;AACA,MAAMI,iBAAiB,GAAGJ,OAAO,CAAC,kCAAD,CAAjC;;AACA,MAAMK,eAAe,GAAGL,OAAO,CAAC,gCAAD,CAA/B;;AACA,MAAMM,aAAa,GAAGN,OAAO,CAAC,0BAAD,CAA7B,C,CAA2D;;;AAC3D,MAAMO,qBAAqB,GAAGP,OAAO,CAAC,kCAAD,CAArC,C,CAA2E;;;AAC3E,MAAMQ,iBAAiB,GAAGR,OAAO,CAAC,mCAAD,CAAjC;;AACA,MAAMS,cAAc,GAAGT,OAAO,CAAC,2BAAD,CAA9B,C,CAEA;;;AACAC,KAAK,CAACS,GAAN,CAAU,UAAV,EAAsBN,iBAAiB,CAACO,UAAxC,E,CAEA;;AACAV,KAAK,CAACS,GAAN,CACE,cADF,EAEEF,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEC,iBAAiB,CAACS,cAHpB,E,CAMA;;AACAZ,KAAK,CAACS,GAAN,CACE,kBADF,EAEE;AACAN,iBAAiB,CAACU,kBAHpB,E,CAMA;;AACAb,KAAK,CAACc,IAAN,CACE,UADF,EAEEV,eAAe,CAACC,aAAD,CAFjB,EAGEF,iBAAiB,CAACY,aAHpB,E,CAMA;;AACAf,KAAK,CAACc,IAAN,CACE,kBADF,EAEEV,eAAe,CAACE,qBAAD,CAFjB,EAGEH,iBAAiB,CAACa,yBAHpB,E,CAMA;;AACAhB,KAAK,CAACc,IAAN,CACE,8BADF,EAEEP,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEE,eAAe,CAACI,cAAD,CAHjB,EAIEL,iBAAiB,CAACc,oBAJpB,E,CAOA;;AACAjB,KAAK,CAACkB,GAAN,CACE,cADF,EAEEd,eAAe,CAACE,qBAAD,CAFjB,EAGEC,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAHF,EAIEC,iBAAiB,CAACgB,aAJpB,E,CAOA;;AACAnB,KAAK,CAACkB,GAAN,CACE,sBADF,EAEEX,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEC,iBAAiB,CAACiB,eAHpB,E,CAMA;;AACApB,KAAK,CAACqB,MAAN,CACE,cADF,EAEEd,iBAAiB,CAACI,UAAlB,CAA6BT,OAA7B,CAFF,EAGEC,iBAAiB,CAACmB,aAHpB;AAMAC,MAAM,CAACC,OAAP,GAAiBxB,KAAjB","sourcesContent":["const express = require(\"express\");\r\nconst route = express.Router();\r\nconst { Destino } = require(\"../models\");\r\nconst destinoController = require(\"../controllers/destinoController\");\r\nconst schemaValidator = require(\"../middlewares/schemaValidator\");\r\nconst destinoSchema = require(\"../schemas/destinoSchema\"); // Solo destino\r\nconst destinoContactoSchema = require(\"../schemas/destinoContactoSchema\"); //Destino con Contacto\r\nconst destinoMiddleware = require(\"../middlewares/validateMiddleware\");\r\nconst contactoSchema = require(\"../schemas/contactoSchema\")\r\n\r\n//Trae todos los destinos\r\nroute.get(\"/destino\", destinoController.getDestino);\r\n\r\n//Trae destino por ID\r\nroute.get(\r\n  \"/destino/:id\",\r\n  destinoMiddleware.validateId(Destino),\r\n  destinoController.getDestinoById\r\n);\r\n\r\n//Trae destinos filtrados\r\nroute.get(\r\n  \"/destinoFiltrado\",\r\n  //destinoMiddleware.validarFiltroDestino,\r\n  destinoController.getDestinoFiltrado\r\n);\r\n\r\n//Crea un cliente sin contacto Asociado\r\nroute.post(\r\n  \"/destino\",\r\n  schemaValidator(destinoSchema),\r\n  destinoController.createDestino\r\n);\r\n\r\n//Crea un cliente y un contacto y asocia ambos\r\nroute.post(\r\n  \"/destinoContacto\",\r\n  schemaValidator(destinoContactoSchema),\r\n  destinoController.createDestinoWithContacto\r\n);\r\n\r\n//Agregar otro contacto a Destino\r\nroute.post(\r\n  \"/agregarContactoADestino/:id\",\r\n  destinoMiddleware.validateId(Destino),\r\n  schemaValidator(contactoSchema),\r\n  destinoController.addContactoToDestino\r\n)\r\n\r\n//Edita un destino\r\nroute.put(\r\n  \"/destino/:id\",\r\n  schemaValidator(destinoContactoSchema),\r\n  destinoMiddleware.validateId(Destino),\r\n  destinoController.updateDestino\r\n);\r\n\r\n//Da de alta un destino borrado\r\nroute.put(\r\n  \"/destino/:id/darAlta\",\r\n  destinoMiddleware.validateId(Destino),\r\n  destinoController.activateDestino\r\n);\r\n\r\n//Borra un destino\r\nroute.delete(\r\n  \"/destino/:id\",\r\n  destinoMiddleware.validateId(Destino),\r\n  destinoController.deleteDestino\r\n);\r\n\r\nmodule.exports = route;\r\n"],"file":"destino.route.js"}