{"version":3,"sources":["../../../lib/middlewares/validateMiddleware.js"],"names":["middleware","validateId","modelo","req","res","next","id","params","entidad","findByPk","status","json","message","error","console","name","module","exports"],"mappings":"AAAA,MAAMA,UAAU,GAAG,EAAnB;;AAEA,MAAMC,UAAU,GAAIC,MAAD,IAAY;AAC7B,SAAO,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC/B,UAAMC,EAAE,GAAGH,GAAG,CAACI,MAAJ,CAAWD,EAAtB;;AACA,QAAI;AACF,YAAME,OAAO,GAAG,MAAMN,MAAM,CAACO,QAAP,CAAgBH,EAAhB,CAAtB;;AACA,UAAI,CAACE,OAAL,EAAc;AACZ,eAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAG,qBAAoBN,EAAG;AAAnC,SAArB,CAAP;AACD;;AACDD,MAAAA,IAAI;AACL,KAND,CAME,OAAOQ,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAe,sCAAqCX,MAAM,CAACa,IAAK,SAAQT,EAAG,GAA3E,EAA+EO,KAA/E;AACA,aAAOT,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;AACF,GAZD;AAaD,CAdD;;AAeAZ,UAAU,CAACC,UAAX,GAAwBA,UAAxB;AAEAe,MAAM,CAACC,OAAP,GAAiBjB,UAAjB","sourcesContent":["const middleware = {};\r\n\r\nconst validateId = (modelo) => {\r\n  return async (req, res, next) => {\r\n    const id = req.params.id;\r\n    try {\r\n      const entidad = await modelo.findByPk(id);\r\n      if (!entidad) {\r\n        return res.status(404).json({ message: `El recurso con id ${id} no existe.` });\r\n      }\r\n      next();\r\n    } catch (error) {\r\n      console.error(`Error en validateId para el modelo ${modelo.name} y ID ${id}:`, error);\r\n      return res.status(500).json({ message: \"Error interno del servidor al validar el ID.\" });\r\n    }\r\n  };\r\n};\r\nmiddleware.validateId = validateId;\r\n\r\nmodule.exports = middleware;\r\n"],"file":"validateMiddleware.js"}