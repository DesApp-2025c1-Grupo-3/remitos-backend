{"version":3,"sources":["../../../lib/middlewares/validateMiddleware.js"],"names":["middleware","validateId","modelo","req","res","next","id","params","entidad","findByPk","status","json","message","error","console","name","module","exports"],"mappings":"AAAA,MAAMA,UAAU,GAAG,EAAnB;;AAEA,MAAMC,UAAU,GAAIC,MAAD,IAAY;AAC7B,SAAO,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC/B,UAAMC,EAAE,GAAGH,GAAG,CAACI,MAAJ,CAAWD,EAAtB;;AACA,QAAI;AACF,YAAME,OAAO,GAAG,MAAMN,MAAM,CAACO,QAAP,CAAgBH,EAAhB,CAAtB;;AACA,UAAI,CAACE,OAAL,EAAc;AACZ,eAAOJ,GAAG,CACPM,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,UAAAA,OAAO,EAAG,qBAAoBN,EAAG;AAAnC,SAFD,CAAP;AAGD;;AACDD,MAAAA,IAAI;AACL,KARD,CAQE,OAAOQ,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CACG,sCAAqCX,MAAM,CAACa,IAAK,SAAQT,EAAG,GAD/D,EAEEO,KAFF;AAIA,aAAOT,GAAG,CACPM,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAFD,CAAP;AAGD;AACF,GAnBD;AAoBD,CArBD;;AAsBAZ,UAAU,CAACC,UAAX,GAAwBA,UAAxB;AAEAe,MAAM,CAACC,OAAP,GAAiBjB,UAAjB","sourcesContent":["const middleware = {};\n\nconst validateId = (modelo) => {\n  return async (req, res, next) => {\n    const id = req.params.id;\n    try {\n      const entidad = await modelo.findByPk(id);\n      if (!entidad) {\n        return res\n          .status(404)\n          .json({ message: `El recurso con id ${id} no existe.` });\n      }\n      next();\n    } catch (error) {\n      console.error(\n        `Error en validateId para el modelo ${modelo.name} y ID ${id}:`,\n        error\n      );\n      return res\n        .status(500)\n        .json({ message: \"Error interno del servidor al validar el ID.\" });\n    }\n  };\n};\nmiddleware.validateId = validateId;\n\nmodule.exports = middleware;\n"],"file":"validateMiddleware.js"}