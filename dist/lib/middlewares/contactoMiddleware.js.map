{"version":3,"sources":["../../../lib/middlewares/contactoMiddleware.js"],"names":["Contacto","require","middleware","validateContactoId","req","res","next","id","params","contacto","findByPk","activo","status","json","message","module","exports"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAeC,OAAO,CAAC,WAAD,CAA5B;;AACA,MAAMC,UAAU,GAAG,EAAnB;;AAEA,MAAMC,kBAAkB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACnD,QAAMC,EAAE,GAAGH,GAAG,CAACI,MAAJ,CAAWD,EAAtB;AACA,QAAME,QAAQ,GAAG,MAAMT,QAAQ,CAACU,QAAT,CAAkBH,EAAlB,CAAvB;;AACA,MAAI,CAACE,QAAD,IAAa,CAACA,QAAQ,CAACE,MAA3B,EAAoC;AAClC,WAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAG,sBAAqBP,EAAG;AAApC,KAArB,CAAP;AACD;;AACDD,EAAAA,IAAI;AACL,CAPD;;AAQAJ,UAAU,CAACC,kBAAX,GAAgCA,kBAAhC;AAEAY,MAAM,CAACC,OAAP,GAAiBd,UAAjB","sourcesContent":["const { Contacto } = require(\"../models\");\r\nconst middleware = {};\r\n\r\nconst validateContactoId = async (req, res, next) => {\r\n  const id = req.params.id;\r\n  const contacto = await Contacto.findByPk(id);\r\n  if (!contacto || !contacto.activo ) {\r\n    return res.status(404).json({ message: `El contacto con id ${id} no existe` });\r\n  }\r\n  next();\r\n};\r\nmiddleware.validateContactoId = validateContactoId;\r\n\r\nmodule.exports = middleware;\r\n"],"file":"contactoMiddleware.js"}