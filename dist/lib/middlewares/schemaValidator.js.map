{"version":3,"sources":["../../../lib/middlewares/schemaValidator.js"],"names":["schemaValidator","schema","req","res","next","result","validate","body","abortEarly","error","status","json","errores","details","map","e","atributo","path","message","module","exports"],"mappings":"AAAA,MAAMA,eAAe,GAAIC,MAAD,IAAY;AAClC,SAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzB,UAAMC,MAAM,GAAGJ,MAAM,CAACK,QAAP,CAAgBJ,GAAG,CAACK,IAApB,EAA0B;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAA1B,CAAf;;AACA,QAAIH,MAAM,CAACI,KAAX,EAAkB;AAChB,aAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,QAAAA,OAAO,EAAEP,MAAM,CAACI,KAAP,CAAaI,OAAb,CAAqBC,GAArB,CAA0BC,CAAD,IAAO;AACvC,iBAAO;AAAEC,YAAAA,QAAQ,EAAED,CAAC,CAACE,IAAF,CAAO,CAAP,CAAZ;AAAuBR,YAAAA,KAAK,EAAEM,CAAC,CAACG;AAAhC,WAAP;AACD,SAFQ;AADiB,OAArB,CAAP;AAKD;;AACDd,IAAAA,IAAI;AACL,GAVD;AAWD,CAZD;;AAcAe,MAAM,CAACC,OAAP,GAAiBpB,eAAjB","sourcesContent":["const schemaValidator = (schema) => {\n  return (req, res, next) => {\n    const result = schema.validate(req.body, { abortEarly: false });\n    if (result.error) {\n      return res.status(400).json({\n        errores: result.error.details.map((e) => {\n          return { atributo: e.path[0], error: e.message };\n        }),\n      });\n    }\n    next();\n  };\n};\n\nmodule.exports = schemaValidator;\n"],"file":"schemaValidator.js"}