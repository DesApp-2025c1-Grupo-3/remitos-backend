{"version":3,"sources":["../../../lib/middlewares/estadoMiddleware.js"],"names":["Estado","require","middleware","validateEstadoId","req","res","next","id","params","estado","findByPk","activo","status","json","message","module","exports"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAaC,OAAO,CAAC,WAAD,CAA1B;;AACA,MAAMC,UAAU,GAAG,EAAnB;;AAEA,MAAMC,gBAAgB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACjD,QAAO;AAACC,IAAAA;AAAD,MAAOH,GAAG,CAACI,MAAlB;AACA,QAAMC,MAAM,GAAG,MAAMT,MAAM,CAACU,QAAP,CAAgBH,EAAhB,CAArB;;AACA,MAAI,CAACE,MAAD,IAAW,CAACA,MAAM,CAACE,MAAvB,EAA+B;AAAM;AACrC,WAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACC;;AACDR,EAAAA,IAAI;AACL,CAPD;;AAQAJ,UAAU,CAACC,gBAAX,GAA8BA,gBAA9B;AAEAY,MAAM,CAACC,OAAP,GAAiBd,UAAjB","sourcesContent":["const { Estado } = require(\"../models\");\r\nconst middleware = {};\r\n\r\nconst validateEstadoId = async (req, res, next) => {\r\n  const  {id} = req.params;\r\n  const estado = await Estado.findByPk(id);\r\n  if (!estado || !estado.activo) {     // Check if the estado exists and is active\r\n  return res.status(404).json({ message: \"Estado no encontrado o inactivo.\" });\r\n  }\r\n  next();\r\n};\r\nmiddleware.validateEstadoId = validateEstadoId;\r\n\r\nmodule.exports = middleware;\r\n"],"file":"estadoMiddleware.js"}